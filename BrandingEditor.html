<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h2 { color: #333; }
    form div { margin-bottom: 15px; }
    label { display: block; margin-bottom: 5px; font-weight: bold; }
    input[type="text"], input[type="color"] {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover { background-color: #0056b3; }
    .section-header {
      margin-top: 25px;
      margin-bottom: 15px;
      font-size: 18px;
      font-weight: bold;
      color: #333;
      border-bottom: 2px solid #007bff;
      padding-bottom: 5px;
    }
    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    .form-grid-3 {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
    }
  </style>
</head>
<body>
  <h2>ðŸŽ¨ Edit Branding & Styling</h2>
  <form id="brandingForm">
    
    <div class="section-header">Application Identity</div>
    <div>
      <label for="appName">App Name:</label>
      <input type="text" id="appName">
    </div>
    <div>
      <label for="appTagline">App Tagline:</label>
      <input type="text" id="appTagline">
    </div>
    <div>
      <label for="appIcon">App Icon (Emoji):</label>
      <input type="text" id="appIcon" placeholder="ðŸ”§">
    </div>

    <div class="section-header">Colors</div>
    <div class="form-grid">
      <div>
        <label for="primaryColor">Primary Color:</label>
        <input type="color" id="primaryColor">
      </div>
      <div>
        <label for="secondaryColor">Secondary Color:</label>
        <input type="color" id="secondaryColor">
      </div>
      <div>
        <label for="accentColor">Accent Color:</label>
        <input type="color" id="accentColor">
      </div>
      <div>
        <label for="backgroundColor">Background Color:</label>
        <input type="color" id="backgroundColor">
      </div>
    </div>

    <div class="section-header">Logo Settings</div>
    <div>
      <label for="logoUrl">Logo URL:</label>
      <input type="text" id="logoUrl" placeholder="https://example.com/logo.png">
    </div>
    <div>
      <label for="logoHeight">Logo Height:</label>
      <input type="text" id="logoHeight" placeholder="50px">
    </div>

    <div class="section-header">Button Styling</div>
    <div class="form-grid">
      <div>
        <label for="buttonRadius">Button Corner Radius:</label>
        <input type="text" id="buttonRadius" placeholder="4px">
      </div>
      <div>
        <label for="buttonPadding">Button Padding:</label>
        <input type="text" id="buttonPadding" placeholder="10px 20px">
      </div>
    </div>

    <div class="section-header">Icons</div>
    <div class="form-grid-3">
      <div>
        <label for="quoteIcon">Quote Icon:</label>
        <input type="text" id="quoteIcon" placeholder="ðŸ“‹">
      </div>
      <div>
        <label for="componentIcon">Component Icon:</label>
        <input type="text" id="componentIcon" placeholder="âš™ï¸">
      </div>
      <div>
        <label for="templateIcon">Template Icon:</label>
        <input type="text" id="templateIcon" placeholder="ï¿½">
      </div>
      <div>
        <label for="infoIcon">Info Icon:</label>
        <input type="text" id="infoIcon" placeholder="ðŸ’¡">
      </div>
    </div>

    <button type="button" onclick="saveBranding()">Save Changes</button>
  </form>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      google.script.run
        .withSuccessHandler(loadBrandingSettings)
        .getBrandingConfig();
    });

    function loadBrandingSettings(settings) {
      document.getElementById('appName').value = settings.app.name;
      document.getElementById('appTagline').value = settings.app.tagline;
      document.getElementById('appIcon').value = settings.icons.app;
      document.getElementById('primaryColor').value = settings.colors.primary;
      document.getElementById('secondaryColor').value = settings.colors.secondary;
      document.getElementById('accentColor').value = settings.colors.accent;
      document.getElementById('backgroundColor').value = settings.colors.background;
      document.getElementById('logoUrl').value = settings.logo.url;
      document.getElementById('logoHeight').value = settings.logo.height;
      document.getElementById('buttonRadius').value = settings.buttons.borderRadius;
      document.getElementById('buttonPadding').value = settings.buttons.padding;
      document.getElementById('quoteIcon').value = settings.icons.quote;
      document.getElementById('componentIcon').value = settings.icons.component;
      document.getElementById('templateIcon').value = settings.icons.template;
      document.getElementById('infoIcon').value = settings.icons.info;
    }

    function saveBranding() {
      const newSettings = {
        appName: document.getElementById('appName').value,
        appTagline: document.getElementById('appTagline').value,
        appIcon: document.getElementById('appIcon').value,
        primaryColor: document.getElementById('primaryColor').value,
        secondaryColor: document.getElementById('secondaryColor').value,
        accentColor: document.getElementById('accentColor').value,
        backgroundColor: document.getElementById('backgroundColor').value,
        logoUrl: document.getElementById('logoUrl').value,
        logoHeight: document.getElementById('logoHeight').value,
        buttonRadius: document.getElementById('buttonRadius').value,
        buttonPadding: document.getElementById('buttonPadding').value,
        quoteIcon: document.getElementById('quoteIcon').value,
        componentIcon: document.getElementById('componentIcon').value,
        templateIcon: document.getElementById('templateIcon').value,
        infoIcon: document.getElementById('infoIcon').value,
      };

      google.script.run
        .withSuccessHandler(function(msg) {
          alert(msg);
        })
        .saveBrandingConfig(newSettings);
    }
  </script>
</body>
</html>
